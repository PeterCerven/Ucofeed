<div class="program-header">
  <!-- Breadcrumb navigation -->
  <nav class="breadcrumb">
    <span class="breadcrumb-link" (click)="navigateToUniversities()">
      {{ programDetails().university_name }}
    </span>
    <mat-icon>chevron_right</mat-icon>
    <span class="breadcrumb-link" (click)="navigateToFaculties()">
      {{ programDetails().faculty_name }}
    </span>
    <mat-icon>chevron_right</mat-icon>
    <span class="current">{{ programDetails().name }}</span>
  </nav>

  <!-- Main header content -->
  <div class="header-content">
    <div class="program-info">
      <h1 class="program-name">{{ programDetails().name }}</h1>
      <p class="program-description">{{ programDetails().description }}</p>

      <!-- Tags -->
      <div class="tags">
        @if (programDetails().tags.title) {
          <mat-chip class="tag">
            <mat-icon>school</mat-icon>
            {{ programDetails().tags.title }}
          </mat-chip>
        }
        @if (programDetails().tags.studyFormat) {
          <mat-chip class="tag">
            <mat-icon>schedule</mat-icon>
            {{ programDetails().tags.studyFormat }}
          </mat-chip>
        }
        @if (programDetails().tags.languageGroup) {
          <mat-chip class="tag">
            <mat-icon>language</mat-icon>
            {{ programDetails().tags.languageGroup }}
          </mat-chip>
        }
      </div>
    </div>

    <div class="rating-summary">
      <!-- Average rating -->
      <div class="average-rating">
        <div class="rating-number">{{ programDetails().averageRating.toFixed(1) }}</div>
        <div class="stars">
          @for (star of starsArray; track star) {
            <mat-icon [class.filled]="isStarFilled(star)">
              {{ isStarFilled(star) ? 'star' : 'star_border' }}
            </mat-icon>
          }
        </div>
        <div class="review-count">{{ programDetails().totalReviews }} reviews</div>
      </div>

      <!-- Rating distribution -->
      <div class="rating-distribution">
        <h3>Rating Distribution</h3>
        @for (rating of ratingKeys; track rating) {
          <div class="distribution-row">
            <span class="rating-label">{{ rating }} stars</span>
            <div class="bar-container">
              <div
                class="bar"
                [style.width.%]="getRatingPercentage(rating)"
              ></div>
            </div>
            <span class="count">{{ programDetails().ratingDistribution[rating] }}</span>
          </div>
        }
      </div>
    </div>
  </div>
</div>
